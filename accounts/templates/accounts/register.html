{% extends 'layout.html' %}

{% block title %}Kayıt ol{% endblock %}

{% block body %}
<meta charset="UTF-8">
<div class="container mt-5 mb-5">
  {% load static %}
<form method="post" action="{% url 'accounts:register' %}">
  {% csrf_token %}
  <h1 class="text-center">
    Kayıt ol
  </h1>
  <div class="mb-3">
    <label for="username" class="form-label">
      Kullanıcı adı
    </label>
    <input type="text" class="form-control" id="username" name="username" placeholder="Kullanıcı adı" aria-describedby="usernameHelp" required autofocus>
    <ul class="usernameHelp">
      <li class="form-text">Kullanılmayan bir kullanıcı adı olmalı!</li>
    </ul>
  </div>
  <div class="row mb-3">
    <div class="col-xs-12 col-sm-6">
      <label for="firstname" class="form-label">
        İsim
      </label>
      <input type="text" id="firstname" class="form-control" placeholder="İsim" name="firstname" required>
    </div>
    <div class="col-xs-12 col-sm-6">
      <label for="lastname" class="form-label">
        Soyisim
      </label>
      <input type="text" id="lastname" class="form-control" placeholder="Soy isim (opsiyonel)" name="lastname">
    </div>
  </div>
  <div class="mb-3">
    <label for="email" class="form-label">
      Email
    </label>
    <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
  </div>
  <div class="mb-3">
    <label for="password1" class="form-label">
      Şifre
    </label>
    <input type="password" class="form-control" id="password1" name="password1" placeholder="Şifre" aria-describedby="passwordHelp" required>
    <ul class="passwordHelp">
      <li class="form-text">En az 6 karakterden oluşmalı</li>
      <li class="form-text">En az bir rakam bulundurmalı</li>
      <li class="form-text">En az bir adet özel karakter bulundurmalı</li>
    </ul>
  </div>
  <div class="mb-3">
    <label for="password2" class="form-label">
      Şifreyi onayla
    </label>
    <input type="password" class="form-control" id="password2" name="password2" placeholder="Şifre" required>
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" value="" id="agreeCheckbox" required>
    <label class="form-check-label" for="invalidCheck">
       <a class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#termsModal">
        Şartlar ve koşulları 
      </a>  kabul ediyorum.
    </label>
  </div>
  <button type="submit" class="btn btn-success w-100">Register</button>
  <div class="mt-3">
    <p>Zaten hesabın var mı? <a href="{% url 'accounts:login' %}" class="text-decoration-none">Giriş yap.</a></p>
  </div>
</form>
</div>
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Şartlar ve koşullar</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>
          Kendinizi kaydettirerek web sitemizin şart ve koşullarına uymayı kabul etmiş olursunuz. Bu, diğer kullanıcıların gizliliğine saygı göstermeyi, uygunsuz içerik yayınlamaktan kaçınmayı ve geçerli tüm yasa ve düzenlemelere uymayı içerir ancak bunlarla sınırlı değildir.
          <a href="{% url 'terms_and_conditions' %}" class="text-decoration-none">daha fazla oku...</a>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
        <button type="button" class="btn btn-primary" onclick="handleAgree()">Kabul et</button>
      </div>
    </div>
  </div>
</div>
<script src="{% static 'js/accounts/register.js' %}"></script>
{% endblock %}
